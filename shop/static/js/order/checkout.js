$(document).ready(function(){$(".list-group-item").click(function(){0==$(this).find(".active").length&&($(this).find(".del-btn").show(),$(".active").find(".del-btn").hide(),$(".active").removeClass("active"),$(this).find(".select-ara").addClass("active"))}),$(".del-btn").click(function(t){t.preventDefault(),$("#address-head").text($(this).parent().parent().find(".address-info").text()),$("#address-change").show(),$("#address-head").parent().find("h6 > i").removeClass("hidden"),$("#order-body").collapse("show"),$("#address-head").attr("data-id",$(this).attr("data-id"))}),$(".btn-default").click(function(){$(".in").collapse("hide"),$(this).parent().parent().find("h6 > i").addClass("hidden")}),$(".con-btn").click(function(t){if(t.preventDefault(),$(".update-btn:visible").length>0)$(".update-btn:visible").animate({backgroundColor:"#aa0000",opacity:"0.8"},"slow",function(){$(this).animate({backgroundColor:"#337ab7",opacity:"1"},"slow")});else{$("#order-head").text("("+$(".item-row").length.toString()+" Items)"),$("#order-change").show(),$("#order-head").parent().find("h6 > i").removeClass("hidden");var a="",e="";$(".item-row").each(function(){a+=$(this).attr("data-id")+" ",e+=$(this).find(".qty-input").val().toString()+" "}),$("#order-head").attr("data-id",a),$("#order-head").attr("data-qty",e),$("#order-body").collapse("hide"),$("#payment-head").find("i").removeClass("hidden"),$("#payment-body").collapse("show")}}),$(".qty-input").keydown(function(t){if(9==t.which||13==t.which)0!=$(this).parent().parent().find(".update-btn:visible").length&&$(this).parent().parent().find(".update-btn").trigger("click");else{if(190==t.which)return!1;if(t.which<48&&8!=t.which||t.which>57&&t.which<96&&t.which>105&&116!=t.which)return!1;if(116!=t.which){var a=$(this).attr("data-item-id"),e=$(this).attr("data-colour-id");$(".update-btn").each(function(){$(this).attr("data-item-id")==a&&$(this).attr("data-colour-id")==e&&$(this).show()})}}}),$(".qty-input").change(function(t){var a=$(this).attr("data-item-id"),e=$(this).attr("data-colour-id");$(".update-btn").each(function(){$(this).attr("data-item-id")==a&&$(this).attr("data-colour-id")==e&&$(this).show()})}),$(".update-btn").click(function(t){t.preventDefault();var a=$(this).attr("data-item-id"),e=$(this).attr("data-colour-id"),i=0;$(".qty-input").each(function(){$(this).attr("data-item-id")==a&&$(this).attr("data-colour-id")==e&&(i=$(this).val())}),$.post($(this).attr("href"),{quantity:i,update:1,item:a,colour:e},function(t){"ok"==t.status&&(window.location="/cart/")})}),$(".remove-btn").click(function(t){t.preventDefault();var a=$(this).attr("data-item-id"),e=$(this).attr("data-colour-id");$.post($(this).attr("data-href"),{item:a,colour:e},function(t){"ok"==t.status&&(window.location="/cart/detail/")})}),$("#con-check").click(function(){$("#login-check").removeClass("hidden"),$("#login-body").collapse("hide"),$("#login-change").show(),$("#address-body").collapse("show")}),$(".checkout-btn").click(function(t){$("#loader-modal").modal("show"),t.preventDefault();var a=$("#address-head").attr("data-id"),e=$("#order-head").attr("data-id").toString(),i=$("#order-head").attr("data-qty").toString(),d=parseInt($("#total").text());$.post("/account/user/order/create/",{order_items:e,quans:i,address:a,total:d,captcha:grecaptcha.getResponse()},function(t){"ok"==t.status?($("#loader-modal").modal("hide"),$("#successModal").modal("show")):($("#loader-modal").modal("hide"),$("#errorModal").modal("show"))})})});